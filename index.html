<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
<title>Demo Login</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* small page-specific tweaks */
    body { display:flex; align-items:center; justify-content:center; min-height:100vh; }
    .demo-card { width:420px; max-width:94%; padding:20px; border-radius:12px; box-shadow:var(--shadow-lg); background:var(--surface); }
    .form-row { margin-bottom:12px; }
    label.form-label { margin-bottom:6px; display:block; }
    .actions { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }
  </style>
</head>
<body>
  <div class="demo-card">
    <h2 style="margin:0 0 8px 0; text-align: center;">Demo Login</h2>
    

    <div class="form-row">
      <label class="form-label">Project</label>
      <select id="projectSelect" class="form-control" aria-label="Project">
        <option value="wikipedia">Wikipedia</option>
        <option value="commons">Wikimedia Commons</option>
        <option value="wikidata">Wikidata</option>
      </select>
    </div>

    <div class="form-row" id="langRow">
      <label class="form-label">Language</label>
      <select id="langSelect" class="form-control">
        <option value="en">English (en)</option>
        <option value="fr">Français (fr)</option>
        <option value="de">Deutsch (de)</option>
        <option value="es">Español (es)</option>
        <option value="ru">Русский (ru)</option>
        <option value="zh">中文 (zh)</option>
        <option value="ja">日本語 (ja)</option>
      </select>
    </div>

    <div class="form-row">
      <label class="form-label">Demo Username</label>
      <input id="demoUser" class="form-control" placeholder="Enter display name" value="DIVU">
    </div>

    <div class="actions">
      <button id="cancelBtn" class="btn btn-ghost">Cancel</button>
      <button id="loginDemoBtn" class="btn btn-primary">Login</button>
    </div>
  </div>

  <script>
    // show/hide language row depending on project
    const projectSelect = document.getElementById('projectSelect');
    const langRow = document.getElementById('langRow');
    const langSelect = document.getElementById('langSelect');

    function updateLangRow() {
      const p = projectSelect.value;
      if (p === 'wikipedia' || p === 'commons') {
        langRow.style.display = 'block';
      } else {
        langRow.style.display = 'none';
      }
    }

    projectSelect.addEventListener('change', updateLangRow);
    updateLangRow();
    document.getElementById('cancelBtn').addEventListener('click', () => {
      window.location.href = 'home.html';
    });

    document.getElementById('loginDemoBtn').addEventListener('click', () => {
      const user = document.getElementById('demoUser').value || 'DemoUser';
      const project = projectSelect.value;
      const lang = (langRow.style.display !== 'none') ? langSelect.value : '';

      // save demo auth to localStorage for the main page to pick up
      const auth = { name: user, project, lang };
      localStorage.setItem('DEMO_AUTH', JSON.stringify(auth));

      // navigate back to the main app
      window.location.href = 'home.html';
    });
  </script>
</body>
</html>
